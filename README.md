# Gcal Sync for Obsidian

Google CalendarとObsidianを同期するプラグインです。デイリーノートに自動的にカレンダーイベントを挿入し、定期的に更新します。

## 機能

- ✅ **複数のカレンダーに対応**: 複数のGoogleカレンダーを同時に表示
- ✅ **カレンダーごとに色分け**: 時間に色付きアンダーラインで視覚的に区別
- ✅ **自動リフレッシュ**: 60秒ごとに自動的に予定を更新
- ✅ **柔軟な挿入位置**: 指定した見出しの下に挿入
- ✅ **詳細情報の表示**: 場所、説明、参加者、Google Meetリンクを折りたたみ表示
- ✅ **Googleマップ連携**: 場所をクリックするとGoogleマップで開く
- ✅ **全日イベント対応**: 全日イベントは"All-day event"と表示
- ✅ **挿入マージン設定**: 見出しの下の空行数を調整可能
- ✅ **既存コンテンツの保持**: 水平線などのテンプレート要素を保持

## インストール

1. このリポジトリをクローンまたはダウンロード
2. `obsidian-gcal-sync`フォルダを`.obsidian/plugins/`にコピー
3. Obsidianを再起動
4. 設定 → コミュニティプラグイン → Gcal Sync for Obsidianを有効化

## 設定

### Google Calendar API設定

1. [Google Cloud Console](https://console.cloud.google.com/)でプロジェクトを作成
2. Google Calendar APIを有効化
3. OAuth 2.0クライアントIDを作成
   - アプリケーションの種類: デスクトップアプリ
   - リダイレクトURI: `http://localhost:42813/callback`
4. クライアントIDとクライアントシークレットをプラグイン設定に入力
5. 「Google Calendarと連携」ボタンをクリックして認証

### プラグイン設定

- **挿入位置**: 予定を挿入する位置(先頭/末尾/見出しの下)
- **見出しテキスト**: 挿入する見出し(例: `## 📅 今日の予定`)
- **表示するカレンダー**: カレンダーIDをカンマ区切りで入力
- **自動リフレッシュ**: 定期的に予定を更新するか
- **リフレッシュ間隔**: 更新間隔(秒)
- **挿入マージン**: 見出しの下の空行数(0=最小限, 1=1行追加)

## 使い方

1. デイリーノートを開く
2. テンプレートに見出しを追加(例: `### Schedule`)
3. プラグインが自動的に予定を挿入
4. 60秒ごとに自動更新

## 表示例

```markdown
### Schedule
- All-day event ※リボ調整
- All-day event 古賀宙さんの誕生日
- 19:00 - 20:00 ブラックサンタとしてランニング
	- 場所: [つくば駅, 日本、〒305-0031 茨城県つくば市吾妻２丁目１２−８](https://www.google.com/maps/search/?api=1&query=...)
```

## ライセンス

MIT

## 作者

KxOxUxMxExI

## 貢献

プルリクエストやイシューは大歓迎です!
